/* ===========================================
   SHARED UTILITIES - Used by multiple themes
   =========================================== */

/* Static Depth Background (for Focus themes) */
.static-depth-bg {
  background:
    radial-gradient(circle at 50% 0%, var(--glow), transparent 70%),
    linear-gradient(to bottom, var(--surface) 0%, var(--surface-strong) 100%);
}

/* Markdown & Chat Styling */
.chat-markdown {
  @apply text-[15px] leading-[1.75];
  word-break: break-word;
}

.chat-markdown h1,
.chat-markdown h2,
.chat-markdown h3,
.chat-markdown h4 {
  @apply mt-8 mb-4 font-bold text-white;
}

.chat-markdown h1 {
  @apply text-2xl;
}

.chat-markdown h2 {
  @apply text-xl;
}

.chat-markdown h3 {
  @apply text-lg;
}

.chat-markdown p {
  @apply mb-5 last:mb-0;
}

.chat-markdown ul,
.chat-markdown ol {
  @apply my-5 pl-6 space-y-2.5;
}

.chat-markdown ul {
  @apply list-disc;
}

.chat-markdown ol {
  @apply list-decimal;
}

.chat-markdown table {
  @apply my-6 w-full border-collapse text-sm overflow-hidden rounded-xl border border-white/10;
  display: block;
  overflow-x: auto;
}

.chat-markdown thead th {
  @apply bg-white/5 text-neutral-100 font-bold px-4 py-3 border-b border-white/10;
}

.chat-markdown td {
  @apply border-b border-white/5 px-4 py-3 text-neutral-300;
}

.chat-markdown blockquote {
  @apply my-6 border-l-4 border-(--primary) bg-white/3 py-3 pl-5 pr-4 rounded-r-lg italic text-neutral-300;
}

.chat-markdown code:not(pre code) {
  @apply rounded-md bg-white/10 px-1.5 py-0.5 font-mono text-[0.85em] text-(--primary-light);
}

.chat-markdown pre {
  @apply my-6;
}

/* Global tap highlight removal */
* {
  -webkit-tap-highlight-color: transparent;
}

/* Typing Dots Animation */
.typing-dots span {
  @apply inline-block w-1.5 h-1.5 rounded-full bg-current opacity-60;
  animation: typing 1.4s infinite ease-in-out both;
}

.typing-dots span:nth-child(1) {
  animation-delay: -0.32s;
}

.typing-dots span:nth-child(2) {
  animation-delay: -0.16s;
}

@keyframes typing {
  0%,
  80%,
  100% {
    transform: scale(0);
  }

  40% {
    transform: scale(1);
  }
}

/* Voice Waveform Animation */
.animate-voice-bar {
  animation: voice-bar 0.6s ease-in-out infinite alternate;
}

@keyframes voice-bar {
  0% {
    height: 0.25rem;
    opacity: 0.6;
  }

  100% {
    height: 1rem;
    opacity: 1;
  }
}

/* Bounce once animation for copy checkmark */
.animate-bounce-once {
  animation: bounce-once 0.4s ease-out;
}

@keyframes bounce-once {
  0%,
  100% {
    transform: scale(1);
  }

  50% {
    transform: scale(1.3);
  }
}

/* Wiggle animation for delete button */
.animate-wiggle {
  animation: wiggle 0.3s ease-in-out;
}

/* Trigger wiggle on parent hover */
.group-del-hover:hover .wiggle-on-hover {
  animation: wiggle 0.4s ease-in-out;
}

@keyframes wiggle {
  0%,
  100% {
    transform: rotate(0deg);
  }

  25% {
    transform: rotate(-12deg);
  }

  75% {
    transform: rotate(12deg);
  }
}
